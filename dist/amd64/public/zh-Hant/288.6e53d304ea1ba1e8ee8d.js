"use strict";(self.webpackChunkkubernetes_dashboard=self.webpackChunkkubernetes_dashboard||[]).push([[288],{6288:(Mt,w,R)=>{R.r(w),R.d(w,{CreateModule:()=>ct});var z=R(1121),q=R(8239),B=R(833),H=R(3778),Y=R(5908),f=R(488),_=R(4788),N=R(8497),$=R(8177),c=R(592),I=R(1504);let D=(()=>{class t{constructor(e,n,o,l,E,s){this.http_=e,this.namespace_=n,this.csrfToken_=o,this.matDialog_=l,this.router_=E,this.CONFIG=s,this.isDeployInProgress_=!1}createContent(e,n=!0,o=""){var l=this;return(0,q.Z)(function*(){const E={name:o,namespace:l.namespace_.current(),content:e,validate:n};let s,S;try{const{token:A}=yield l.csrfToken_.getTokenForAction("appdeploymentfromfile").toPromise();l.isDeployInProgress_=!0,s=yield l.http_.post("api/v1/appdeploymentfromfile",E,{headers:{[l.CONFIG.csrfHeaderName]:A}}).toPromise(),s.error.length>0&&l.reportError("Deployment has been partly completed",s.error)}catch(A){S=A}if(l.isDeployInProgress_=!1,S)throw l.reportError("Deploying file has failed",S.error),S;return l.router_.navigate(["overview"],{queryParams:{[Y.xt]:l.namespace_.current()}}),s})()}deploy(e){var n=this;return(0,q.Z)(function*(){let o,l;try{const{token:E}=yield n.csrfToken_.getTokenForAction("appdeployment").toPromise();n.isDeployInProgress_=!0,o=yield n.http_.post("api/v1/appdeployment",e,{headers:{[n.CONFIG.csrfHeaderName]:E}}).toPromise()}catch(E){l=E}if(n.isDeployInProgress_=!1,l)throw n.reportError("Deploying file has failed",l.error),l;return n.router_.navigate(["overview"],{queryParams:{[Y.xt]:e.namespace}}),o})()}isDeployDisabled(){return this.isDeployInProgress_}reportError(e,n){this.matDialog_.open(H.a,{data:{title:e,message:n,confirmLabel:"OK"}})}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275inject(N.eN),_.\u0275\u0275inject(f.L),_.\u0275\u0275inject($.Q),_.\u0275\u0275inject(c.uw),_.\u0275\u0275inject(I.Router),_.\u0275\u0275inject(B.ED))},t.\u0275prov=_.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),k_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=_.\u0275\u0275defineInjector({providers:[D]}),t})();var j=R(5073),d=R(2057);let J_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=_.\u0275\u0275defineInjector({imports:[[d.CommonModule,j.m,z.K]]}),t})();var V_=R(7639),W=R(859),y=R(9335),w_=R(5671),u=R(2895);function z_(t,r){1&t&&(_.\u0275\u0275elementStart(0,"span"),_.\u0275\u0275i18n(1,10),_.\u0275\u0275elementEnd())}function q_(t,r){1&t&&(_.\u0275\u0275elementStart(0,"span"),_.\u0275\u0275i18n(1,11),_.\u0275\u0275elementEnd())}let Y_=(()=>{class t{constructor(e,n,o){this.namespace_=e,this.create_=n,this.history_=o,this.inputData=""}isCreateDisabled(){return!this.inputData||0===this.inputData.length||this.create_.isDeployDisabled()}create(){this.create_.createContent(this.inputData)}cancel(){this.history_.goToPreviousState("overview")}areMultipleNamespacesSelected(){return this.namespace_.areMultipleNamespacesSelected()}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(f.L),_.\u0275\u0275directiveInject(D),_.\u0275\u0275directiveInject(y.q))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-create-from-input"]],decls:11,vars:4,consts:function(){let r,e,n,o,l;return r="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#5\ufffd" + "open_in_new" + "\ufffd/#5\ufffd" + "\n            ",e="\n            \u4E0A\u50B3\n",n="\n  \u53D6\u6D88\n",o="\n    \u8F38\u5165 YAML \u6216 JSON \u5185\u5BB9\uFF0C\u6307\u5B9A\u8981\u70BA\u6587\u4EF6\u4E2D\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u9593\u5275\u5EFA\u7684\u8CC7\u6E90\u3002\n  ",l="\n    \u8F38\u5165 YAML \u6216 JSON \u5185\u5BB9\uFF0C\u6307\u5B9A\u8981\u7232\u7576\u524D\u9078\u5B9A\u7684\u547D\u540D\u7A7A\u9593\u5275\u5EFA\u7684\u8CC7\u6E90\u3002\n  ",[[1,"kd-create-from-input-info"],[4,"ngIf"],["href","https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/","target","_blank"],r,[1,"material-icons"],[3,"text","textChange"],["type","button","color","primary","mat-raised-button","",3,"disabled","click"],e,["type","button","color","primary","mat-button","",3,"click"],n,o,l]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"div",0),_.\u0275\u0275template(1,z_,2,0,"span",1),_.\u0275\u0275template(2,q_,2,0,"span",1),_.\u0275\u0275elementStart(3,"a",2),_.\u0275\u0275i18nStart(4,3),_.\u0275\u0275element(5,"i",4),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(6,"kd-text-input",5),_.\u0275\u0275listener("textChange",function(l){return n.inputData=l}),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(7,"button",6),_.\u0275\u0275listener("click",function(){return n.create()}),_.\u0275\u0275i18n(8,7),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(9,"button",8),_.\u0275\u0275listener("click",function(){return n.cancel()}),_.\u0275\u0275i18n(10,9),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",n.areMultipleNamespacesSelected()),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",!n.areMultipleNamespacesSelected()),_.\u0275\u0275advance(4),_.\u0275\u0275property("text",n.inputData),_.\u0275\u0275advance(1),_.\u0275\u0275property("disabled",n.isCreateDisabled()))},directives:[d.NgIf,w_.t,u.lW],styles:[".kd-create-from-input-info[_ngcontent-%COMP%]{margin-bottom:24px;padding:0 4px}.kd-create-from-input-info[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:14px}.kd-create-from-input-button[_ngcontent-%COMP%]{margin-left:0}  .kd-ace{margin-bottom:24px}"]}),t})();var a=R(4751),j_=R(1230);function W_(t,r){1&t&&(_.\u0275\u0275elementStart(0,"span"),_.\u0275\u0275i18n(1,11),_.\u0275\u0275elementEnd())}function Z_(t,r){1&t&&(_.\u0275\u0275elementStart(0,"span"),_.\u0275\u0275i18n(1,12),_.\u0275\u0275elementEnd())}let Q_=(()=>{class t{constructor(e,n,o){this.namespace_=e,this.create_=n,this.history_=o}isCreateDisabled(){return!this.file||0===this.file.content.length||this.create_.isDeployDisabled()}create(){this.create_.createContent(this.file.content,!0,this.file.name)}onFileLoad(e){this.file=e}cancel(){this.history_.goToPreviousState("overview")}areMultipleNamespacesSelected(){return this.namespace_.areMultipleNamespacesSelected()}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(f.L),_.\u0275\u0275directiveInject(D),_.\u0275\u0275directiveInject(y.q))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-create-from-file"]],viewQuery:function(e,n){if(1&e&&_.\u0275\u0275viewQuery(a.NgForm,7),2&e){let o;_.\u0275\u0275queryRefresh(o=_.\u0275\u0275loadQuery())&&(n.ngForm=o.first)}},decls:12,vars:3,consts:function(){let r,e,n,o,l,E;return r="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#5\ufffd" + "open_in_new" + "\ufffd/#5\ufffd" + "\n            ",e="\u9078\u64C7 YAML \u6216 JSON \u6587\u4EF6",n="\n    \u4E0A\u50B3\n  ",o="\n    \u53D6\u6D88\n  ",l="\n    \u9078\u64C7 YAML \u6216 JSON \u6587\u4EF6\u4E2D\u6307\u5B9A\u7684\u8CC7\u6E90\u90E8\u7F72\u5230\u8A72\u6587\u4EF6\u4E2D\u6307\u5B9A\u7684\u547D\u540D\u7A7A\u9593\u3002\n  ",E="\n            \u9078\u64C7 YAML \u6216 JSON \u6587\u4EF6\u4E2D\u6307\u5B9A\u7684\u8CC7\u6E90\u90E8\u7F72\u5230\u7576\u524D\u9078\u5B9A\u7684\u547D\u540D\u7A7A\u9593\u3002\n  ",[[1,"kd-create-from-file-info"],[4,"ngIf"],["href","https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/","target","_blank"],r,[1,"material-icons"],[3,"ngSubmit"],["label",e,3,"onLoad"],["type","button","type","submit","color","primary","mat-raised-button","",3,"disabled"],n,["type","button","color","primary","mat-button","",3,"click"],o,l,E]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"div",0),_.\u0275\u0275template(1,W_,2,0,"span",1),_.\u0275\u0275template(2,Z_,2,0,"span",1),_.\u0275\u0275elementStart(3,"a",2),_.\u0275\u0275i18nStart(4,3),_.\u0275\u0275element(5,"i",4),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(6,"form",5),_.\u0275\u0275listener("ngSubmit",function(){return n.create()}),_.\u0275\u0275elementStart(7,"kd-upload-file",6),_.\u0275\u0275listener("onLoad",function(l){return n.onFileLoad(l)}),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(8,"button",7),_.\u0275\u0275i18n(9,8),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(10,"button",9),_.\u0275\u0275listener("click",function(){return n.cancel()}),_.\u0275\u0275i18n(11,10),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",n.areMultipleNamespacesSelected()),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",!n.areMultipleNamespacesSelected()),_.\u0275\u0275advance(6),_.\u0275\u0275property("disabled",n.isCreateDisabled()))},directives:[d.NgIf,a.\u0275NgNoValidate,a.NgControlStatusGroup,a.NgForm,j_.R,u.lW],styles:[".kd-create-from-file-info[_ngcontent-%COMP%]{margin-bottom:24px;padding:0 4px}.kd-create-from-file-info[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:14px}.kd-deploy-from-file-button[_ngcontent-%COMP%]{margin-left:0}"]}),t})();var G=R(5257),Z=R(3190),p=R(2257);const _e=["*"];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-help-section"]],ngContentSelectors:_e,decls:2,vars:0,consts:[["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column",1,"kd-help-section"]],template:function(e,n){1&e&&(_.\u0275\u0275projectionDef(),_.\u0275\u0275elementStart(0,"div",0),_.\u0275\u0275projection(1),_.\u0275\u0275elementEnd())},directives:[p.xw],styles:[".kd-help-section[_ngcontent-%COMP%]    >*{flex:1;flex-basis:auto;margin:8px 0;width:100%}.kd-help-section[_ngcontent-%COMP%]    >*:last-child{padding-left:32px}.kd-help-section[_ngcontent-%COMP%]    >*:first-child{max-width:48.5%}@media (max-width: 959px){.kd-help-section[_ngcontent-%COMP%]    >*:first-child{max-width:100%}}.kd-help-section[_ngcontent-%COMP%]   kd-port-mappings[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}"]}),t})();var C=R(6833),U=R(4372);const ee=["*"];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-user-help"]],ngContentSelectors:ee,decls:2,vars:0,consts:[[1,"kd-user-help"]],template:function(e,n){1&e&&(_.\u0275\u0275projectionDef(),_.\u0275\u0275elementStart(0,"div",0),_.\u0275\u0275projection(1),_.\u0275\u0275elementEnd())},styles:[".kd-user-help[_ngcontent-%COMP%]    {font-size:14px}.kd-user-help[_ngcontent-%COMP%]     .material-icons{font-size:12px;vertical-align:middle}"]}),t})();function te(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,16),_.\u0275\u0275elementEnd())}function ne(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,17),_.\u0275\u0275elementEnd()),2&t){const e=_.\u0275\u0275nextContext();_.\u0275\u0275advance(1),_.\u0275\u0275i18nExp(e.namespaceMaxLength),_.\u0275\u0275i18nApply(1)}}function re(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,18),_.\u0275\u0275elementEnd())}let oe=(()=>{class t{constructor(e,n,o,l,E,s,S){this.dialogRef=e,this.data=n,this.http_=o,this.csrfToken_=l,this.matDialog_=E,this.fb_=s,this.appConfig_=S,this.namespaceMaxLength=63,this.namespacePattern=new RegExp("^[a-z0-9]([-a-z0-9]*[a-z0-9])?$")}ngOnInit(){this.form=this.fb_.group({namespace:["",a.Validators.compose([a.Validators.maxLength(this.namespaceMaxLength),a.Validators.pattern(this.namespacePattern)])]})}get namespace(){return this.form.get("namespace")}createNamespace(){if(!this.form.valid)return;const e={name:this.namespace.value};this.csrfToken_.getTokenForAction("namespace").pipe((0,Z.w)(o=>this.http_.post("api/v1/namespace",{...e},{headers:(new N.WM).set(this.appConfig_.csrfHeaderName,o.token)}))).subscribe(()=>{this.dialogRef.close(this.namespace.value)},o=>{this.dialogRef.close(),this.matDialog_.open(H.a,{data:{title:"Error creating namespace",message:o.data,confirmLabel:"OK"}})})}isDisabled(){return this.data.namespaces.indexOf(this.namespace.value)>=0}cancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(c.so),_.\u0275\u0275directiveInject(c.WI),_.\u0275\u0275directiveInject(N.eN),_.\u0275\u0275directiveInject($.Q),_.\u0275\u0275directiveInject(c.uw),_.\u0275\u0275directiveInject(a.FormBuilder),_.\u0275\u0275directiveInject(B.ED))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-create-namespace-dialog"]],decls:28,vars:7,consts:function(){let r,e,n,o,l,E,s,S,A,O;return r="\u5EFA\u7ACB\u4E00\u500B\u65B0\u7684\u547D\u540D\u7A7A\u9593",e="\u65B0\u7684\u547D\u540D\u7A7A\u9593\u5C07\u6DFB\u52A0\u5230\u53E2\u96C6\u4E2D\u3002",n="\u547D\u540D\u7A7A\u9593\u7684\u540D\u5B57",o="\u5C07\u5177\u6709\u6307\u5B9A\u540D\u7A31\u7684\u547D\u540D\u7A7A\u9593\u6DFB\u52A0\u5230\u53E2\u96C6\u4E2D\u3002",l="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#21\ufffd" + "open_in_new" + "\ufffd/#21\ufffd" + "\n            ",E="\u5275\u5EFA",s="\u53D6\u6D88",S="\n              \u540D\u7A31\u662F\u5FC5\u586B\u7684\u3002\n            ",A="\n              \u540D\u7A31\u5FC5\u9808\u5927\u65BC " + "\ufffd0\ufffd" + " \u500B\u5B57\u7B26\n            ",O="\n              \u540D\u7A31\u5FC5\u9808\u662F\u5B57\u6BCD\u6216\u8005\u6578\u5B57\uFF0C\u53EF\u4EE5\u5305\u542B\u9023\u63A5\u865F \"-\"\u3002\n            ",[["mat-dialog-title",""],r,[1,"kd-dialog-text"],e,[3,"formGroup"],["matInput","","type","text","placeholder",n,"name","namespace","formControlName","namespace","required",""],["align","end"],[4,"ngIf"],o,["href","http://kubernetes.io/docs/admin/namespaces/","target","_blank","tabindex","-1"],l,[1,"material-icons"],["mat-button","","type","submit","color","primary",3,"disabled","click"],E,["mat-button","",3,"click"],s,S,A,O]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"h4",0),_.\u0275\u0275i18n(1,1),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(2,"mat-dialog-content",2),_.\u0275\u0275elementContainerStart(3),_.\u0275\u0275elementStart(4,"div"),_.\u0275\u0275i18n(5,3),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(6,"div"),_.\u0275\u0275elementStart(7,"form",4),_.\u0275\u0275elementStart(8,"kd-help-section"),_.\u0275\u0275elementStart(9,"mat-form-field"),_.\u0275\u0275element(10,"input",5),_.\u0275\u0275elementStart(11,"mat-hint",6),_.\u0275\u0275text(12),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(13,te,2,0,"mat-error",7),_.\u0275\u0275template(14,ne,2,1,"mat-error",7),_.\u0275\u0275template(15,re,2,0,"mat-error",7),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(16,"kd-user-help"),_.\u0275\u0275elementContainerStart(17),_.\u0275\u0275i18n(18,8),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(19,"a",9),_.\u0275\u0275i18nStart(20,10),_.\u0275\u0275element(21,"i",11),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(22,"mat-dialog-actions",6),_.\u0275\u0275elementContainerStart(23),_.\u0275\u0275elementStart(24,"button",12),_.\u0275\u0275listener("click",function(){return n.createNamespace()}),_.\u0275\u0275i18n(25,13),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(26,"button",14),_.\u0275\u0275listener("click",function(){return n.cancel()}),_.\u0275\u0275i18n(27,15),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275advance(7),_.\u0275\u0275property("formGroup",n.form),_.\u0275\u0275advance(5),_.\u0275\u0275textInterpolate2("",n.namespace.value.length," / ",n.namespaceMaxLength,""),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.namespace.errors?null:n.namespace.errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.namespace.errors?null:n.namespace.errors.maxlength),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.namespace.errors?null:n.namespace.errors.pattern),_.\u0275\u0275advance(9),_.\u0275\u0275property("disabled",n.isDisabled()))},directives:[c.uh,c.xY,a.\u0275NgNoValidate,a.NgControlStatusGroup,a.FormGroupDirective,K,C.KE,U.Nt,a.DefaultValueAccessor,a.NgControlStatus,a.FormControlName,a.RequiredValidator,C.bx,d.NgIf,b,c.H8,u.lW,C.TO],encapsulation:2}),t})();function ae(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,20),_.\u0275\u0275elementEnd())}function le(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,21),_.\u0275\u0275elementEnd()),2&t){const e=_.\u0275\u0275nextContext();_.\u0275\u0275advance(1),_.\u0275\u0275i18nExp(e.secretNameMaxLength),_.\u0275\u0275i18nApply(1)}}function ie(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,22),_.\u0275\u0275elementEnd())}function Ee(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,23),_.\u0275\u0275elementEnd())}function Re(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,24),_.\u0275\u0275elementEnd())}let se=(()=>{class t{constructor(e,n,o,l,E,s,S){this.dialogRef=e,this.data_=n,this.http_=o,this.csrfToken_=l,this.matDialog_=E,this.fb_=s,this.appConfig_=S,this.secretNameMaxLength=253,this.secretNamePattern=new RegExp("^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$"),this.dataPattern=new RegExp("^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$")}ngOnInit(){this.form=this.fb_.group({secretName:["",a.Validators.compose([a.Validators.maxLength(this.secretNameMaxLength),a.Validators.pattern(this.secretNamePattern)])],data:["",a.Validators.pattern(this.dataPattern)]})}get secretName(){return this.form.get("secretName")}get data(){return this.form.get("data")}createSecret(){if(!this.form.valid)return;const e={name:this.secretName.value,namespace:this.data_.namespace,data:this.data.value};this.csrfToken_.getTokenForAction("secret").pipe((0,Z.w)(o=>this.http_.post("api/v1/secret/",{...e},{headers:(new N.WM).set(this.appConfig_.csrfHeaderName,o.token)}))).subscribe(()=>{this.dialogRef.close(this.secretName.value)},o=>{this.dialogRef.close(),this.matDialog_.open(H.a,{data:{title:"Error creating secret",message:o.data,confirmLabel:"OK"}})})}cancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(c.so),_.\u0275\u0275directiveInject(c.WI),_.\u0275\u0275directiveInject(N.eN),_.\u0275\u0275directiveInject($.Q),_.\u0275\u0275directiveInject(c.uw),_.\u0275\u0275directiveInject(a.FormBuilder),_.\u0275\u0275directiveInject(B.ED))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-create-secret-dialog"]],decls:39,vars:8,consts:function(){let r,e,n,o,l,E,s,S,A,O,m,F,g,P;return r="\u5275\u5EFA\u4E00\u500B\u65B0\u7684\u7528\u65BC\u93E1\u50CF\u62C9\u53D6\u7684 secret",e="\u65B0\u7684 secret \u5C07\u6DFB\u52A0\u5230\u53E2\u96C6\u4E2D",n="Secret \u540D\u7A31",o="\u5177\u6709\u6307\u5B9A\u540D\u7A31\u7684 secret \u5C07\u6DFB\u52A0\u5230\u547D\u540D\u7A7A\u9593\u4E2D\u7684\u53E2\u96C6\u4E2D\u3002",l="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#21\ufffd" + "open_in_new" + "\ufffd/#21\ufffd" + "\n            ",E="\u6307\u5B9A\u8981\u4FDD\u7559\u7684 secret \u7684 data\u3002\u8A72\u503C\u662F .dockercfg \u6587\u4EF6\u4E2D\u7684 Base64 \u7DE8\u78BC\u5185\u5BB9",s="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#32\ufffd" + "open_in_new" + "\ufffd/#32\ufffd" + "\n            ",S="\u5275\u5EFA",A="\u53D6\u6D88",O="\n              \u540D\u7A31\u662F\u5FC5\u586B\u7684\u3002\n            ",m="\n              \u540D\u7A31\u5FC5\u9808\u5927\u65BC " + "\ufffd0\ufffd" + " \u500B\u5B57\u7B26\n            ",F="\n             \u540D\u7A31\u5FC5\u9808\u9075\u5FAA DNS \u57DF\u540D\u8A9E\u6CD5\uFF08\u4F8B\u5982 new.image-pull.secret\uFF09\u3002\n            ",g="\n              Data \u662F\u5FC5\u9808\u7684\u3002\n            ",P="\n              Data \u5FC5\u9808\u662F Base64 \u7DE8\u78BC\u7684\u683C\u5F0F\u3002\n            ",[["mat-dialog-title",""],r,[1,"kd-dialog-text"],e,[3,"formGroup"],["matInput","","type","text","placeholder",n,"name","secretName","formControlName","secretName","required",""],["align","end"],[4,"ngIf"],o,["href","http://kubernetes.io/docs/user-guide/secrets/","target","_blank","tabindex","-1"],l,[1,"material-icons"],["matInput","","type","text","placeholder","Image pull secret data","name","data","formControlName","data","required",""],E,["href","http://kubernetes.io/docs/user-guide/images/#specifying-imagepullsecrets-on-a-pod","target","_blank","tabindex","-1"],s,["mat-button","","type","submit","color","primary",3,"click"],S,["mat-button","",3,"click"],A,O,m,F,g,P]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"h4",0),_.\u0275\u0275i18n(1,1),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(2,"mat-dialog-content",2),_.\u0275\u0275elementContainerStart(3),_.\u0275\u0275elementStart(4,"div"),_.\u0275\u0275i18n(5,3),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(6,"div"),_.\u0275\u0275elementStart(7,"form",4),_.\u0275\u0275elementStart(8,"kd-help-section"),_.\u0275\u0275elementStart(9,"mat-form-field"),_.\u0275\u0275element(10,"input",5),_.\u0275\u0275elementStart(11,"mat-hint",6),_.\u0275\u0275text(12),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(13,ae,2,0,"mat-error",7),_.\u0275\u0275template(14,le,2,1,"mat-error",7),_.\u0275\u0275template(15,ie,2,0,"mat-error",7),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(16,"kd-user-help"),_.\u0275\u0275elementStart(17,"span"),_.\u0275\u0275i18n(18,8),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(19,"a",9),_.\u0275\u0275i18nStart(20,10),_.\u0275\u0275element(21,"i",11),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(22,"kd-help-section"),_.\u0275\u0275elementStart(23,"mat-form-field"),_.\u0275\u0275element(24,"input",12),_.\u0275\u0275template(25,Ee,2,0,"mat-error",7),_.\u0275\u0275template(26,Re,2,0,"mat-error",7),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(27,"kd-user-help"),_.\u0275\u0275elementContainerStart(28),_.\u0275\u0275i18n(29,13),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(30,"a",14),_.\u0275\u0275i18nStart(31,15),_.\u0275\u0275element(32,"i",11),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(33,"mat-dialog-actions",6),_.\u0275\u0275elementContainerStart(34),_.\u0275\u0275elementStart(35,"button",16),_.\u0275\u0275listener("click",function(){return n.createSecret()}),_.\u0275\u0275i18n(36,17),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(37,"button",18),_.\u0275\u0275listener("click",function(){return n.cancel()}),_.\u0275\u0275i18n(38,19),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275advance(7),_.\u0275\u0275property("formGroup",n.form),_.\u0275\u0275advance(5),_.\u0275\u0275textInterpolate2("",n.secretName.value.length," / ",n.secretNameMaxLength,""),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.secretName.errors?null:n.secretName.errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.secretName.errors?null:n.secretName.errors.maxlength),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.secretName.errors?null:n.secretName.errors.pattern),_.\u0275\u0275advance(10),_.\u0275\u0275property("ngIf",null==n.data.errors?null:n.data.errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.data.errors?null:n.data.errors.pattern))},directives:[c.uh,c.xY,a.\u0275NgNoValidate,a.NgControlStatusGroup,a.FormGroupDirective,K,C.KE,U.Nt,a.DefaultValueAccessor,a.NgControlStatus,a.FormControlName,a.RequiredValidator,C.bx,d.NgIf,b,c.H8,u.lW,C.TO],encapsulation:2}),t})();class Q{constructor(r="",e="",n=!0){this.editable=n,this.key=r,this.value=e}}var x=R(5917),X=R(4395),L=R(8002);let Te=(()=>{class t{constructor(e){this.http=e}validate(e){return __(this.http,this.namespace)(e)}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(N.eN))},t.\u0275dir=_.\u0275\u0275defineDirective({type:t,selectors:[["","kdUniqueName",""]],inputs:{namespace:"namespace"},features:[_.\u0275\u0275ProvidersFeature([{provide:a.NG_ASYNC_VALIDATORS,useExisting:(0,_.forwardRef)(()=>t),multi:!0}])]}),t})();function __(t,r){return e=>e.value?t.post("api/v1/appdeployment/validate/name",{name:e.value,namespace:r}).pipe((0,X.b)(500),(0,L.U)(n=>n.valid?null:{uniqueName:e.value})):(0,x.of)(null)}class M{static namePattern(r){return r.value?new RegExp("^[a-z]([-a-z0-9]*[a-z0-9])?$").test(r.value)?null:{namePattern:{value:r.value}}:null}static isInteger(r){const e=r.value;return e?Number(e)===e&&e%1==0||!e?null:{kdValidInteger:{value:r.value}}:null}static labelKeyNameLength(r){const e=r.value,o=e.indexOf("/");return(o>-1?e.substring(o+1):e).length<=63?null:{kdValidLabelKeyPrefixLength:{value:!0}}}static labelKeyPrefixLength(r){const e=r.value,o=e.indexOf("/");return(o>-1?e.substring(0,o):"").length<=253?null:{kdValidLabelKeyPrefixLength:{value:!0}}}static labelKeyNamePattern(r){const e=r.value,o=e.indexOf("/"),l=o>-1?e.substring(o+1):e;return/^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(l)||""===e?null:{kdValidLabelKeyNamePattern:{value:!0}}}static labelKeyPrefixPattern(r){const e=r.value,o=e.indexOf("/");return o>-1&&!/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/.test(e.substring(0,o))?{kdValidLabelKeyPrefixPattern:{value:!0}}:null}static labelValuePattern(r){return/^(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])?$/.test(r.value)?null:{kdValidLabelValuePattern:{value:!0}}}}var e_=R(3985),t_=R(8743);let Oe=(()=>{class t{constructor(e){this.http=e}validate(e){return e.value?this.http.post("api/v1/appdeployment/validate/imagereference",{reference:e.value}).pipe((0,X.b)(500),(0,L.U)(n=>n.valid?null:{validImageReference:n.reason})):(0,x.of)(null)}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(N.eN))},t.\u0275dir=_.\u0275\u0275defineDirective({type:t,selectors:[["","kdValidImageReference",""]],inputs:{namespace:"namespace"},features:[_.\u0275\u0275ProvidersFeature([{provide:a.NG_ASYNC_VALIDATORS,useExisting:(0,_.forwardRef)(()=>t),multi:!0}])]}),t})(),me=(()=>{class t{constructor(){}validate(e){return this.shouldSetWarning(e.value)?(this.hasWarning=!0,{warnThreshold:{value:"333"}}):(this.shouldRemoveWarning(e.value)&&(this.hasWarning=!1),null)}shouldSetWarning(e){return e>this.kdWarnThreshold}shouldRemoveWarning(e){return!this.hasWarning&&!this.shouldSetWarning(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=_.\u0275\u0275defineDirective({type:t,selectors:[["","kdWarnThreshold",""]],inputs:{kdWarnThreshold:"kdWarnThreshold"},features:[_.\u0275\u0275ProvidersFeature([{provide:a.NG_VALIDATORS,useExisting:(0,_.forwardRef)(()=>t),multi:!0}])]}),t})();var Ce=R(9761),de=R(5435);let Me=(()=>{class t{constructor(e){this.http=e}validate(e){return n_(this.http,this.isExternal)(e)}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(N.eN))},t.\u0275dir=_.\u0275\u0275defineDirective({type:t,selectors:[["","kdValidProtocol",""]],inputs:{isExternal:"isExternal"},features:[_.\u0275\u0275ProvidersFeature([{provide:a.NG_ASYNC_VALIDATORS,useExisting:(0,_.forwardRef)(()=>t),multi:!0}])]}),t})();function n_(t,r){return e=>e.value?t.post("api/v1/appdeployment/validate/protocol",{protocol:e.value,isExternal:r}).pipe((0,G.q)(1)).pipe((0,X.b)(500),(0,L.U)(o=>o.valid?null:{validProtocol:!0})):(0,x.of)(null)}var r_=R(1260),o_=R(7935),k=R(9356);function Ne(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-option",7),_.\u0275\u0275text(1),_.\u0275\u0275elementEnd()),2&t){const e=r.$implicit;_.\u0275\u0275property("value",e),_.\u0275\u0275advance(1),_.\u0275\u0275textInterpolate1(" ",e.label," ")}}function ue(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,19),_.\u0275\u0275elementEnd())}function pe(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,20),_.\u0275\u0275elementEnd())}function Fe(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,21),_.\u0275\u0275elementEnd())}function ge(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,22),_.\u0275\u0275elementEnd())}function Pe(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,23),_.\u0275\u0275elementEnd())}function Ue(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,24),_.\u0275\u0275elementEnd())}function fe(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,25),_.\u0275\u0275elementEnd())}function Ie(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,26),_.\u0275\u0275elementEnd())}function De(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-option",7),_.\u0275\u0275text(1),_.\u0275\u0275elementEnd()),2&t){const e=r.$implicit;_.\u0275\u0275property("value",e),_.\u0275\u0275advance(1),_.\u0275\u0275textInterpolate(e)}}function Ge(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,27),_.\u0275\u0275elementEnd())}function Le(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,28),_.\u0275\u0275elementEnd())}function he(t,r){if(1&t){const e=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"button",29),_.\u0275\u0275listener("click",function(){_.\u0275\u0275restoreView(e);const o=_.\u0275\u0275nextContext().index;return _.\u0275\u0275nextContext().remove(o)}),_.\u0275\u0275elementStart(1,"mat-icon"),_.\u0275\u0275text(2,"delete"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()}}const Be=function(t){return{"kd-deploy-form-progress-show":t}};function He(t,r){if(1&t){const e=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"div",8),_.\u0275\u0275elementStart(1,"mat-form-field",9),_.\u0275\u0275elementStart(2,"input",10),_.\u0275\u0275listener("change",function(){const l=_.\u0275\u0275restoreView(e).index;return _.\u0275\u0275nextContext().checkPortMapping(l)}),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(3,ue,2,0,"mat-error",11),_.\u0275\u0275template(4,pe,2,0,"mat-error",11),_.\u0275\u0275template(5,Fe,2,0,"mat-error",11),_.\u0275\u0275template(6,ge,2,0,"mat-error",11),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(7,"p",12),_.\u0275\u0275elementStart(8,"mat-form-field",9),_.\u0275\u0275elementStart(9,"input",13),_.\u0275\u0275listener("change",function(){const l=_.\u0275\u0275restoreView(e).index;return _.\u0275\u0275nextContext().checkPortMapping(l)}),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(10,Pe,2,0,"mat-error",11),_.\u0275\u0275template(11,Ue,2,0,"mat-error",11),_.\u0275\u0275template(12,fe,2,0,"mat-error",11),_.\u0275\u0275template(13,Ie,2,0,"mat-error",11),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(14,"p",12),_.\u0275\u0275elementStart(15,"mat-form-field",14),_.\u0275\u0275elementStart(16,"mat-select",15),_.\u0275\u0275template(17,De,2,2,"mat-option",4),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(18,"mat-progress-bar",16),_.\u0275\u0275template(19,Ge,2,0,"mat-error",11),_.\u0275\u0275template(20,Le,2,0,"mat-error",11),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(21,"div",17),_.\u0275\u0275template(22,he,3,0,"button",18),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,n=r.index,o=_.\u0275\u0275nextContext();_.\u0275\u0275property("formGroupName",n),_.\u0275\u0275advance(2),_.\u0275\u0275property("required",o.isFirst(n)),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("port").errors?null:e.get("port").errors.kdValidInteger),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("port").errors?null:e.get("port").errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("port").errors?null:e.get("port").errors.min),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("port").errors?null:e.get("port").errors.max),_.\u0275\u0275advance(3),_.\u0275\u0275property("required",o.isFirst(n)),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("targetPort").errors?null:e.get("targetPort").errors.kdValidInteger),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("targetPort").errors?null:e.get("targetPort").errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("targetPort").errors?null:e.get("targetPort").errors.min),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("targetPort").errors?null:e.get("targetPort").errors.max),_.\u0275\u0275advance(3),_.\u0275\u0275property("isExternal",o.isExternal),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngForOf",o.protocols),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngClass",_.\u0275\u0275pureFunction1(17,Be,e.get("protocol").pending)),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("protocol").errors?null:e.get("protocol").errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("protocol").errors?null:e.get("protocol").errors.validProtocol),_.\u0275\u0275advance(2),_.\u0275\u0275property("ngIf",o.isRemovable(n))}}const V={label:"None",external:!1},$e={label:"Internal",external:!1},ve={label:"External",external:!0};let ye=(()=>{class t{constructor(e,n){this.fb_=e,this.http_=n,this.changeExternal=new _.EventEmitter,this.propagateChange=o=>{}}ngOnInit(){this.serviceTypes=[V,$e,ve],this.portMappingForm=this.fb_.group({serviceType:V,portMappings:this.fb_.array([])}),this.serviceType.valueChanges.subscribe(()=>{this.changeServiceType()}),this.portMappingForm.valueChanges.subscribe(e=>{this.propagateChange(e)})}validate(e){return this.portMappingForm.statusChanges.pipe((0,Ce.O)(this.portMappingForm.status),(0,de.h)(()=>!this.portMappingForm.pending),(0,G.q)(1),(0,L.U)(()=>this.portMappingForm.invalid?{error:!0}:null))}changeServiceType(){if(this.serviceType.value===V){const e=this.portMappings.length;for(let n=0;n<e;n++)this.portMappings.removeAt(0)}else 0===this.portMappings.length&&this.portMappings.push(this.newEmptyPortMapping(this.protocols[0]));this.isExternal=this.serviceType.value.external,this.changeExternal.emit(this.isExternal);for(let e=0;e<this.portMappings.length;e++){const n=this.portMappings.at(e).get("protocol");n.clearAsyncValidators(),n.setAsyncValidators(n_(this.http_,this.isExternal)),n.updateValueAndValidity()}}get portMappings(){return this.portMappingForm.get("portMappings")}get serviceType(){return this.portMappingForm.get("serviceType")}newEmptyPortMapping(e){return this.fb_.group({port:["",a.Validators.compose([M.isInteger,a.Validators.min(1),a.Validators.max(65535)])],targetPort:["",a.Validators.compose([M.isInteger,a.Validators.min(1),a.Validators.max(65535)])],protocol:[e]})}checkPortMapping(e){this.addProtocolIfNeeed(),this.validatePortMapping(e),this.portMappings.updateValueAndValidity()}addProtocolIfNeeed(){this.isPortMappingFilled(this.portMappings.controls[this.portMappings.length-1])&&this.portMappings.push(this.newEmptyPortMapping(this.protocols[0]))}isPortMappingFilled(e){return!!e.get("port").value&&!!e.get("targetPort").value}validatePortMapping(e){if(0===e)return;const n=this.portMappings.at(e),o=n.get("port"),l=n.get("targetPort"),E=o.value,s=l.value,S=this.isPortMappingFilledOrEmpty(E,s),O=S||!!s;o.setErrors(S||E?null:{required:!0}),l.setErrors(O?null:{required:!0}),this.portMappingForm.updateValueAndValidity()}isPortMappingFilledOrEmpty(e,n){return!e==!n}isRemovable(e){return e!==this.portMappings.length-1}remove(e){this.portMappings.removeAt(e)}isFirst(e){return 0===e}writeValue(){}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(a.FormBuilder),_.\u0275\u0275directiveInject(N.eN))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-port-mappings"]],inputs:{protocols:"protocols",isExternal:"isExternal"},outputs:{changeExternal:"changeExternal"},features:[_.\u0275\u0275ProvidersFeature([{provide:a.NG_VALUE_ACCESSOR,useExisting:(0,_.forwardRef)(()=>t),multi:!0},{provide:a.NG_ASYNC_VALIDATORS,useExisting:(0,_.forwardRef)(()=>t),multi:!0}])],decls:8,vars:3,consts:function(){let r,e,n,o,l,E,s,S,A,O,m,F,g,P;return r="Service",e="\u7AEF\u53E3",n="\u76EE\u6A19\u7AEF\u53E3",o="\u5354\u8B70",l="\n            \u7AEF\u53E3\u865F\u5FC5\u9808\u662F\u6578\u5B57\n          ",E="\n            \u7AEF\u53E3\u865F\u4E0D\u80FD\u70BA\u7A7A\n          ",s="\n            \u7AEF\u53E3\u865F\u5FC5\u9808\u5927\u65BC 0\n          ",S="\n            \u7AEF\u53E3\u865F\u5FC5\u9808\u5C0F\u65BC 65536\n          ",A="\n            \u76EE\u6A19\u7AEF\u53E3\u5FC5\u9808\u662F\u6574\u6578\u3002\n          ",O="\n            \u76EE\u6A19\u7AEF\u53E3\u4E0D\u80FD\u7232\u7A7A\u3002\n          ",m="\n            \u76EE\u6A19\u7AEF\u53E3\u5FC5\u9808\u5927\u65BC 0\u3002\n          ",F="\n            \u76EE\u6A19\u7AEF\u53E3\u5FC5\u9808\u5C0F\u65BC 65536\u3002\n          ",g="\n            \u5354\u8B70\u662F\u5FC5\u9808\u7684\u3002\n          ",P="\n            \u7121\u6548\u7684\u5354\u8B70\u3002\n          ",[["fxLayout","column",3,"formGroup"],["fxLayout","row"],[1,"mat-block","kd-deploy-input-row",2,"width","100%"],["namespace","serviceType","formControlName","serviceType","placeholder",r,"required",""],[3,"value",4,"ngFor","ngForOf"],["formArrayName","portMappings"],["fxLayout","row",3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],["fxLayout","row",3,"formGroupName"],["md-no-float","","fxFlex","30",1,"kd-deploy-input-row","kd-port-form-field"],["matInput","","type","number","name","port","formControlName","port","placeholder",e,3,"required","change"],[4,"ngIf"],["fxFlex","5"],["matInput","","type","number","name","targetPort","formControlName","targetPort","placeholder",n,"min","1","max","65535",3,"required","change"],["md-no-float","","fxFlex","20",1,"kd-deploy-input-row","kd-port-form-field"],["name","protocol","formControlName","protocol","placeholder",o,"kdValidProtocol","","required","",3,"isExternal"],["mode","indeterminate",1,"kd-deploy-form-progress",3,"ngClass"],["fxFlex","10"],["mat-icon-button","",3,"click",4,"ngIf"],l,E,s,S,A,O,m,F,g,P,["mat-icon-button","",3,"click"]]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"div",0),_.\u0275\u0275elementStart(1,"div",1),_.\u0275\u0275elementStart(2,"mat-form-field",2),_.\u0275\u0275elementStart(3,"mat-select",3),_.\u0275\u0275template(4,Ne,2,2,"mat-option",4),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementContainerStart(5),_.\u0275\u0275elementContainerStart(6,5),_.\u0275\u0275template(7,He,23,19,"div",6),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275property("formGroup",n.portMappingForm),_.\u0275\u0275advance(4),_.\u0275\u0275property("ngForOf",n.serviceTypes),_.\u0275\u0275advance(3),_.\u0275\u0275property("ngForOf",n.portMappings.controls))},directives:[p.xw,a.NgControlStatusGroup,a.FormGroupDirective,C.KE,r_.gD,a.NgControlStatus,a.FormControlName,a.RequiredValidator,d.NgForOf,a.FormArrayName,o_.ey,a.FormGroupName,p.yH,U.Nt,a.NumberValueAccessor,a.DefaultValueAccessor,d.NgIf,a.MinValidator,a.MaxValidator,Me,e_.pW,d.NgClass,t_.oO,C.TO,u.lW,k.Hw],styles:[".kd-port-form-field[_ngcontent-%COMP%]{margin:0 0 18px}"]}),t})();function Ke(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,14),_.\u0275\u0275elementEnd()),2&t){const e=_.\u0275\u0275nextContext().$implicit;_.\u0275\u0275advance(1),_.\u0275\u0275i18nExp(e.get("key").value),_.\u0275\u0275i18nApply(1)}}function be(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,15),_.\u0275\u0275elementEnd())}function xe(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,16),_.\u0275\u0275elementEnd())}function Xe(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,17),_.\u0275\u0275elementEnd())}function ke(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,18),_.\u0275\u0275elementEnd())}function Je(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,19),_.\u0275\u0275elementEnd())}function Ve(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,20),_.\u0275\u0275elementEnd())}function we(t,r){if(1&t){const e=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"button",21),_.\u0275\u0275listener("click",function(){_.\u0275\u0275restoreView(e);const o=_.\u0275\u0275nextContext().index;return _.\u0275\u0275nextContext().deleteLabel(o)}),_.\u0275\u0275elementStart(1,"mat-icon"),_.\u0275\u0275text(2,"delete"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()}}function ze(t,r){if(1&t){const e=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"div",3),_.\u0275\u0275elementStart(1,"mat-form-field",4),_.\u0275\u0275elementStart(2,"input",5),_.\u0275\u0275listener("keyup",function(){const l=_.\u0275\u0275restoreView(e).index;return _.\u0275\u0275nextContext().check(l)}),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(3,Ke,2,1,"mat-error",6),_.\u0275\u0275template(4,be,2,0,"mat-error",6),_.\u0275\u0275template(5,xe,2,0,"mat-error",6),_.\u0275\u0275template(6,Xe,2,0,"mat-error",6),_.\u0275\u0275template(7,ke,2,0,"mat-error",6),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(8,"p",7),_.\u0275\u0275elementStart(9,"mat-form-field",8),_.\u0275\u0275elementStart(10,"input",9),_.\u0275\u0275listener("keyup",function(){const l=_.\u0275\u0275restoreView(e).index;return _.\u0275\u0275nextContext().check(l)}),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(11,"mat-hint",10),_.\u0275\u0275text(12),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(13,Je,2,0,"mat-error",6),_.\u0275\u0275template(14,Ve,2,0,"mat-error",6),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(15,"input",11),_.\u0275\u0275elementStart(16,"div",12),_.\u0275\u0275template(17,we,3,0,"button",13),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,n=r.index,o=_.\u0275\u0275nextContext();_.\u0275\u0275property("formGroupName",n),_.\u0275\u0275advance(2),_.\u0275\u0275property("readonly",!e.get("editable").value),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("key").errors?null:e.get("key").errors.unique),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("key").errors?null:e.get("key").errors.kdValidLabelKeyPrefixPattern),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("key").errors?null:e.get("key").errors.kdValidLabelKeyNamePattern),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("key").errors?null:e.get("key").errors.kdValidLabelKeyPrefixLength),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("key").errors?null:e.get("key").errors.kdValidLabelKeyNameLength),_.\u0275\u0275advance(3),_.\u0275\u0275property("readonly",!e.get("editable").value),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate1("",null==e.get("value").value?null:e.get("value").value.length," / 253"),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("value").errors?null:e.get("value").errors.kdValidLabelValuePattern),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==e.get("value").errors?null:e.get("value").errors.maxlength),_.\u0275\u0275advance(3),_.\u0275\u0275property("ngIf",o.isRemovable(n))}}let qe=(()=>{class t{constructor(e){this.fb_=e,this.propagateChange=n=>{}}ngOnInit(){this.labelForm=this.fb_.group({labels:this.fb_.array([])}),this.labelForm.valueChanges.subscribe(e=>{this.propagateChange(e)});for(let e=0;e<this.labelArr.length;e++)this.addNewLabel(this.labelArr[e].key,this.labelArr[e].value,this.labelArr[e].editable)}validate(e){return this.labelForm.valid?null:{labelValid:{value:this.labels.at(0).errors}}}get labels(){return this.labelForm.get("labels")}addNewLabel(e="",n="",o=!0){this.labels.push(this.fb_.group({key:[{value:e,disabled:!o},a.Validators.compose([M.labelKeyNameLength,M.labelKeyNamePattern,M.labelKeyPrefixLength,M.labelKeyPrefixPattern])],value:[{value:n,disabled:!o},a.Validators.compose([a.Validators.maxLength(253),M.labelValuePattern])],editable:o}))}check(e){this.addIfNeeded(),this.validateKey(e)}isRemovable(e){const n=this.labels.at(this.labels.length-1),o=this.labels.at(e),l=o.get("key").value,E=o.get("value").value,s=o.get("editable").value,S=n.get("key").value,A=n.get("value").value;return!(!s||l===S||E===A)}deleteLabel(e){this.labels.removeAt(e)}validateKey(e){const n=this.labels.at(e).get("key"),o=!this.isKeyDuplicated(e);n.setErrors(o?null:{unique:!0}),this.labelForm.updateValueAndValidity()}isKeyDuplicated(e){let n=0;const o=this.labels.at(e).get("key").value;for(let l=0;l<this.labels.length;l++){const E=this.labels.at(l).get("key").value;if(0!==E.length&&E===o&&n++,n>1)return!0}return!1}addIfNeeded(){const e=this.labels.at(this.labels.length-1);this.isFilled(e)&&this.addNewLabel()}isFilled(e){return 0!==e.get("key").value.length&&0!==e.get("value").value.length}writeValue(e){e.length>0&&this.labels.at(e[0].index).patchValue({value:e[0].value})}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(a.FormBuilder))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-deploy-label"]],inputs:{labelArr:"labelArr"},features:[_.\u0275\u0275ProvidersFeature([{provide:a.NG_VALUE_ACCESSOR,useExisting:(0,_.forwardRef)(()=>t),multi:!0},{provide:a.NG_VALIDATORS,useExisting:(0,_.forwardRef)(()=>t),multi:!0}])],decls:3,vars:2,consts:function(){let r,e,n,o,l,E,s,S,A;return r="\u5BC6\u9470",e="\u503C",n="\n          " + "\ufffd0\ufffd" + " \u4E0D\u662F\u552F\u4E00\u7684\n        ",o="\n            \u524D\u7DB4\u4E0D\u662F\u6709\u6548\u7684\u524D\u7F00 DNS \u5B50\u57DF\u524D\u7F00\uFF08\u4F8B\u5982 my-domain.com \uFF09\u3002\n        ",l="\n            \u6A19\u7C64\u5BC6\u9470\u540D\u7A31\u5FC5\u9808\u662F\u7531 '-'\uFF0C'_' \u6216 '.' \u5206\u9694\u7684\u5B57\u6BCD\u6578\u5B57\uFF0C\u53EF\u9078\u4EE5 DNS \u5B50\u57DF\u548C '/' \u70BA\u524D\u7DB4\u3002\n        ",E="\n          \u524D\u7DB4\u4E0D\u61C9\u8D85\u904E 253 \u500B\u5B57\u7B26\u3002\n        ",s="\n          Label Key \u540D\u7A31\u4E0D\u61C9\u8D85\u904E 63 \u500B\u5B57\u7B26\n        ",S="\n            \u6A19\u7C64\u503C\u5FC5\u9808\u7531 '.' , '-' \u6216\u8005 '_' \u5206\u5272\u5B57\u6BCD\u6578\u5B57\n        ",A="\n            \u6A19\u7C64\u503C\u4E0D\u5F97\u8D85\u904E 253 \u500B\u5B57\u7B26\u3002\n        ",[[3,"formGroup"],["formArrayName","labels"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["md-no-float","","fxFlex","45",1,"kd-deploy-input-row"],["matInput","","name","key","formControlName","key","placeholder",r,3,"readonly","keyup"],[4,"ngIf"],["fxFlex","5"],["md-no-float","","fxFlex","40",1,"kd-deploy-input-row"],["matInput","","name","value","formControlName","value","placeholder",e,3,"readonly","keyup"],["align","end"],["type","hidden","formControlName","editable"],["fxFlex","10"],["mat-icon-button","",3,"click",4,"ngIf"],n,o,l,E,s,S,A,["mat-icon-button","",3,"click"]]},template:function(e,n){1&e&&(_.\u0275\u0275elementContainerStart(0,0),_.\u0275\u0275elementStart(1,"div",1),_.\u0275\u0275template(2,ze,18,12,"div",2),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementContainerEnd()),2&e&&(_.\u0275\u0275property("formGroup",n.labelForm),_.\u0275\u0275advance(2),_.\u0275\u0275property("ngForOf",n.labels.controls))},directives:[a.NgControlStatusGroup,a.FormGroupDirective,a.FormArrayName,d.NgForOf,a.FormGroupName,C.KE,p.yH,U.Nt,a.DefaultValueAccessor,a.NgControlStatus,a.FormControlName,d.NgIf,C.bx,C.TO,u.lW,k.Hw],encapsulation:2}),t})();var Ye=R(9713);function je(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,14),_.\u0275\u0275elementEnd())}function We(t,r){if(1&t){const e=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"button",15),_.\u0275\u0275listener("click",function(){_.\u0275\u0275restoreView(e);const o=_.\u0275\u0275nextContext().index;return _.\u0275\u0275nextContext().remove(o)}),_.\u0275\u0275elementStart(1,"mat-icon"),_.\u0275\u0275text(2,"delete"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()}}function Ze(t,r){if(1&t){const e=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"div",6),_.\u0275\u0275elementStart(1,"mat-form-field",7),_.\u0275\u0275elementStart(2,"input",8),_.\u0275\u0275listener("change",function(){const l=_.\u0275\u0275restoreView(e).index;return _.\u0275\u0275nextContext().addVariableIfNeeed(l)}),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(3,je,2,0,"mat-error",9),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(4,"div",10),_.\u0275\u0275elementStart(5,"mat-form-field",7),_.\u0275\u0275element(6,"input",11),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(7,"div",12),_.\u0275\u0275template(8,We,3,0,"button",13),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()}if(2&t){const e=r.$implicit,n=r.index,o=_.\u0275\u0275nextContext();_.\u0275\u0275property("formGroupName",n),_.\u0275\u0275advance(3),_.\u0275\u0275property("ngIf",null==e.get("name").errors?null:e.get("name").errors.pattern),_.\u0275\u0275advance(5),_.\u0275\u0275property("ngIf",o.isRemovable(n))}}let Qe=(()=>{class t{constructor(e){this.fb_=e,this.namePattern=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$"),this.propagateChange=n=>{}}ngOnInit(){this.form=this.fb_.group({variables:this.fb_.array([this.newVariable()])}),this.form.valueChanges.subscribe(e=>{this.propagateChange(e)})}validate(e){return this.form.valid?null:{labelValid:{value:this.form.errors}}}get variables(){return this.form.get("variables")}addVariableIfNeeed(){const e=this.variables.at(this.variables.length-1);this.isVariableFilled(e)&&e.valid&&this.variables.push(this.newVariable())}isVariableFilled(e){return!!e.get("name").value}newVariable(){return this.fb_.group({name:["",a.Validators.pattern(this.namePattern)],value:""})}isRemovable(e){return e!==this.variables.length-1}remove(e){this.variables.removeAt(e)}writeValue(){}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(a.FormBuilder))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-environment-variables"]],features:[_.\u0275\u0275ProvidersFeature([{provide:a.NG_VALUE_ACCESSOR,useExisting:(0,_.forwardRef)(()=>t),multi:!0},{provide:a.NG_VALIDATORS,useExisting:(0,_.forwardRef)(()=>t),multi:!0}])],decls:6,vars:2,consts:function(){let r,e,n,o;return r="\u74B0\u5883\u8B8A\u6578",e="\u540D\u5B57",n="\u503C",o="\n            \u8B8A\u6578\u540D\u5FC5\u9808\u662F\u6709\u6548\u7684 C \u6A19\u8B58\u7B26\n          ",[["fxLayout","column"],[1,"kd-margin-bottom"],r,[3,"formGroup"],["formArrayName","variables"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["fxFlex","auto"],["matInput","","name","name","formControlName","name","placeholder",e,3,"change"],[4,"ngIf"],["fxFlex","5"],["matInput","","name","value","formControlName","value","placeholder",n],["fxFlex","10"],["mat-icon-button","",3,"click",4,"ngIf"],o,["mat-icon-button","",3,"click"]]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"div",0),_.\u0275\u0275elementStart(1,"div",1),_.\u0275\u0275i18n(2,2),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementContainerStart(3,3),_.\u0275\u0275elementContainerStart(4,4),_.\u0275\u0275template(5,Ze,9,3,"div",5),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275advance(3),_.\u0275\u0275property("formGroup",n.form),_.\u0275\u0275advance(2),_.\u0275\u0275property("ngForOf",n.variables.controls))},directives:[p.xw,a.NgControlStatusGroup,a.FormGroupDirective,a.FormArrayName,d.NgForOf,a.FormGroupName,C.KE,p.yH,U.Nt,a.DefaultValueAccessor,a.NgControlStatus,a.FormControlName,d.NgIf,C.TO,u.lW,k.Hw],encapsulation:2}),t})();function _t(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,71),_.\u0275\u0275elementEnd())}function et(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,72),_.\u0275\u0275elementEnd())}function tt(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,73),_.\u0275\u0275elementEnd())}function nt(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,74),_.\u0275\u0275elementEnd())}function rt(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,75),_.\u0275\u0275elementEnd()),2&t){const e=_.\u0275\u0275nextContext();_.\u0275\u0275advance(1),_.\u0275\u0275i18nExp(null==e.containerImage.errors?null:e.containerImage.errors.validImageReference),_.\u0275\u0275i18nApply(1)}}function ot(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,76),_.\u0275\u0275elementEnd())}function at(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,77),_.\u0275\u0275elementEnd())}function lt(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,78),_.\u0275\u0275elementEnd())}function it(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-option",79),_.\u0275\u0275text(1),_.\u0275\u0275elementEnd()),2&t){const e=r.$implicit;_.\u0275\u0275property("value",e),_.\u0275\u0275advance(1),_.\u0275\u0275textInterpolate1(" ",e," ")}}function Et(t,r){if(1&t&&(_.\u0275\u0275elementStart(0,"mat-option",79),_.\u0275\u0275text(1),_.\u0275\u0275elementEnd()),2&t){const e=r.$implicit;_.\u0275\u0275property("value",e),_.\u0275\u0275advance(1),_.\u0275\u0275textInterpolate1(" ",e," ")}}function Rt(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,80),_.\u0275\u0275elementEnd())}function st(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,81),_.\u0275\u0275elementEnd())}function St(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,82),_.\u0275\u0275elementEnd())}function Tt(t,r){1&t&&(_.\u0275\u0275elementStart(0,"mat-error"),_.\u0275\u0275i18n(1,83),_.\u0275\u0275elementEnd())}const At=function(t){return{"kd-deploy-form-progress-show":t}};let mt=(()=>{class t{constructor(e,n,o,l,E,s,S){this.namespace_=e,this.create_=n,this.history_=o,this.http_=l,this.route_=E,this.fb_=s,this.dialog_=S,this.nameMaxLength=24,this.showMoreOptions_=!1,this.isExternal=!1,this.labelArr=[]}ngOnInit(){this.form=this.fb_.group({name:["",a.Validators.compose([a.Validators.required,M.namePattern])],containerImage:["",a.Validators.required],replicas:[1,a.Validators.compose([a.Validators.required,M.isInteger])],description:[""],namespace:[this.route_.snapshot.params.namespace||"",a.Validators.required],imagePullSecret:[""],cpuRequirement:["",a.Validators.compose([a.Validators.min(0),M.isInteger])],memoryRequirement:["",a.Validators.compose([a.Validators.min(0),M.isInteger])],containerCommand:[""],containerCommandArgs:[""],runAsPrivileged:[!1],portMappings:this.fb_.control([]),variables:this.fb_.control([]),labels:this.fb_.control([])}),this.labelArr=[new Q("k8s-app","",!1),new Q],this.name.valueChanges.subscribe(e=>{this.labelArr[0].value=e,this.labels.patchValue([{index:0,value:e}])}),this.namespace.valueChanges.subscribe(e=>{this.name.clearAsyncValidators(),this.name.setAsyncValidators(__(this.http_,e)),this.name.updateValueAndValidity()}),this.http_.get("api/v1/namespace").subscribe(e=>{this.namespaces=e.namespaces.map(n=>n.objectMeta.name),this.namespace.patchValue(this.namespace_.areMultipleNamespacesSelected()?this.namespaces[0]:this.route_.snapshot.params.namespace||this.namespaces[0])}),this.http_.get("api/v1/appdeployment/protocols").subscribe(e=>this.protocols=e.protocols)}get name(){return this.form.get("name")}get containerImage(){return this.form.get("containerImage")}get replicas(){return this.form.get("replicas")}get description(){return this.form.get("description")}get namespace(){return this.form.get("namespace")}get imagePullSecret(){return this.form.get("imagePullSecret")}get cpuRequirement(){return this.form.get("cpuRequirement")}get memoryRequirement(){return this.form.get("memoryRequirement")}get containerCommand(){return this.form.get("containerCommand")}get containerCommandArgs(){return this.form.get("containerCommandArgs")}get runAsPrivileged(){return this.form.get("runAsPrivileged")}get portMappings(){return this.form.get("portMappings")}get variables(){return this.form.get("variables")}get labels(){return this.form.get("labels")}changeExternal(e){this.isExternal=e}resetImagePullSecret(){this.imagePullSecret.patchValue("")}isCreateDisabled(){return!this.form.valid||this.create_.isDeployDisabled()}getSecrets(){this.http_.get(`api/v1/secret/${this.namespace.value}`).subscribe(e=>{this.secrets=e.secrets.map(n=>n.objectMeta.name)})}cancel(){this.history_.goToPreviousState("overview")}areMultipleNamespacesSelected(){return this.namespace_.areMultipleNamespacesSelected()}isMoreOptionsEnabled(){return this.showMoreOptions_}switchMoreOptions(){this.showMoreOptions_=!this.showMoreOptions_}handleNamespaceDialog(){this.dialog_.open(oe,{data:{namespaces:this.namespaces}}).afterClosed().pipe((0,G.q)(1)).subscribe(o=>{o?(this.namespaces.push(o),this.namespace.patchValue(o)):this.namespace.patchValue(this.namespaces[0])})}handleCreateSecretDialog(){this.dialog_.open(se,{data:{namespace:this.namespace.value}}).afterClosed().pipe((0,G.q)(1)).subscribe(o=>{o?(this.secrets.push(o),this.imagePullSecret.patchValue(o)):this.imagePullSecret.patchValue("")})}isPortMappingFilled(e){return!!e.port&&!!e.targetPort}isVariableFilled(e){return!!e.name}isNumber(e){return"number"==typeof e&&!isNaN(e)}toBackendApiLabels(e){return e[0].key=this.labelArr[0].key,e[0].value=this.labelArr[0].value,e.filter(n=>0!==n.key.length&&0!==n.value.length)}deploy(){const n=this.variables.value.variables||[],o=this.labels.value.labels||[],l={containerImage:this.containerImage.value,imagePullSecret:this.imagePullSecret.value?this.imagePullSecret.value:null,containerCommand:this.containerCommand.value?this.containerCommand.value:null,containerCommandArgs:this.containerCommandArgs.value?this.containerCommandArgs.value:null,isExternal:this.isExternal,name:this.name.value,description:this.description.value?this.description.value:null,portMappings:(this.portMappings.value.portMappings||[]).filter(this.isPortMappingFilled),variables:n.filter(this.isVariableFilled),replicas:this.replicas.value,namespace:this.namespace.value,cpuRequirement:this.isNumber(this.cpuRequirement.value)?this.cpuRequirement.value:null,memoryRequirement:this.isNumber(this.memoryRequirement.value)?`${this.memoryRequirement.value}Mi`:null,labels:this.toBackendApiLabels(o),runAsPrivileged:this.runAsPrivileged.value};this.create_.deploy(l)}}return t.\u0275fac=function(e){return new(e||t)(_.\u0275\u0275directiveInject(f.L),_.\u0275\u0275directiveInject(D),_.\u0275\u0275directiveInject(y.q),_.\u0275\u0275directiveInject(N.eN),_.\u0275\u0275directiveInject(I.ActivatedRoute),_.\u0275\u0275directiveInject(a.FormBuilder),_.\u0275\u0275directiveInject(c.uw))},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-create-from-form"]],decls:142,vars:29,consts:function(){let r,e,n,o,l,E,s,S,A,O,m,F,g,P,T,a_,l_,i_,E_,R_,s_,S_,T_,A_,O_,m_,C_,d_,c_,M_,N_,u_,p_,F_,g_,P_,U_,f_,I_,h,D_,G_,L_,h_,B_,H_,$_,v_,y_,K_,b_,x_,X_;return r="\u61C9\u7528\u540D\u7A31",e="\u5177\u6709\u6B64\u503C\u7684 'app' \u6A19\u7C64\u5C07\u6DFB\u52A0\u5230\u5DF2\u90E8\u7F72\u7684 Deployment \u548C Service \u4E2D\u3002",n="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#15\ufffd" + "open_in_new" + "\ufffd/#15\ufffd" + "\n            ",o="\u5BB9\u5668\u6620\u50CF\u6A94",l="\u8F38\u5165\u516C\u958B\u5009\u5EAB\u6216\u662F\u79C1\u6709\u5009\u5EAB (Docker Hub \u6216 Google Container Registry) \u7684 URL\u3002",E="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#26\ufffd" + "open_in_new" + "\ufffd/#26\ufffd" + "\n            ",s="pod \u7684\u6578\u91CF",S="Deployment \u5C07\u88AB\u5275\u5EFA\u4F86\u7BA1\u7406\u4E00\u5B9A\u6578\u91CF\u7684 pod \u5728\u60A8\u7684\u53E2\u96C6\u4E2D\u3002",A="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#38\ufffd" + "open_in_new" + "\ufffd/#38\ufffd" + "\n            ",O="(\u53EF\u9078\u64C7\u7684) \u53EF\u4EE5\u5B9A\u7FA9\u5185\u90E8\u6216\u5916\u90E8 Service\uFF0C\u5C07\u50B3\u5165\u7AEF\u53E3\u6620\u5C04\u5230\u5BB9\u5668\u7684\u76EE\u6A19\u7AEF\u53E3\u3002",m="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#47\ufffd" + "open_in_new" + "\ufffd/#47\ufffd" + "\n            ",F="\u63CF\u8FF0",g="\n            \u8A72\u63CF\u8FF0\u5C07\u4F5C\u70BA\u6CE8\u8996\u6DFB\u52A0\u5230 Deployment \u4E2D\uFF0C\u4E26\u986F\u793A\u5728\u61C9\u7528\u7A0B\u5F0F\u7684\u8A73\u7D30\u8CC7\u8A0A\u4E2D\u3002\n      ",P="\u6A19\u7C64",T="\u6307\u5B9A\u7684\u6A19\u7C64\u5C07\u7528\u65BC\u5275\u5EFA\u7684 Deployment\uFF0CService\uFF08\u5982\u679C\u6709\uFF09\u548C Pod\u3002 \u5E38\u898B\u6A19\u7C64\u5305\u62EC release\uFF0Cenvironment\uFF0Ctier\uFF0Cpartition \u548C track\u3002",a_="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#64\ufffd" + "open_in_new" + "\ufffd/#64\ufffd" + "\n            ",l_="\u547D\u540D\u7A7A\u9593",i_="\n            \u5275\u5EFA\u4E00\u4E2A\u65B0\u7684\u547D\u540D\u7A7A\u9593...\n          ",E_="\u547D\u540D\u7A7A\u9593\u5141\u8A31\u60A8\u5C07\u8CC7\u6E90\u5206\u5340\u70BA\u908F\u8F2F\u547D\u540D\u7684\u7D44\u3002",R_="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#76\ufffd" + "open_in_new" + "\ufffd/#76\ufffd" + "\n            ",s_="\u53D6\u5F97\u6620\u50CF\u6A94\u4F7F\u7528\u7684 Secret",S_="\n           \u5275\u5EFA\u4E00\u500B\u65B0\u7684 secret...\n          ",T_="\u5982\u679C\u6307\u5B9A\u7684\u6620\u50CF\u6A94\u662F\u79C1\u6709\u7684\uFF0C\u5247\u53EF\u80FD\u9700\u8981 pull secret credential\u3002 \u60A8\u53EF\u4EE5\u9078\u64C7\u73FE\u6709 secret \u6216\u5275\u5EFA\u65B0 secret\u3002",A_="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#88\ufffd" + "open_in_new" + "\ufffd/#88\ufffd" + "\n            ",O_="CPU \u4E0B\u9650 (cores)",m_="Memory \u4E0B\u9650 (MiB)",C_="\u60A8\u53EF\u4EE5\u6307\u5B9A\u5BB9\u5668\u7684\u6700\u4F4E CPU \u548C\u8A18\u61B6\u9AD4\u9700\u6C42\u3002",d_="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#105\ufffd" + "open_in_new" + "\ufffd/#105\ufffd" + "\n            ",c_="\u57F7\u884C\u547D\u4EE4",M_="\u57F7\u884C\u547D\u4EE4\u53C3\u6578",N_="\u9ED8\u8A8D\u60C5\u51B5\u4E0B\uFF0C\u5BB9\u5668\u904B\u884C\u6240\u9078\u6620\u50CF\u6A94\u7684\u9ED8\u8A8D entrypoint \u547D\u4EE4\u3002\u60A8\u53EF\u4EE5\u4F7F\u7528\u547D\u4EE4\u9078\u9805\u8986\u84CB\u9ED8\u8A8D\u503C\u3002",u_="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#117\ufffd" + "open_in_new" + "\ufffd/#117\ufffd" + "\n            ",p_="\u4EE5\u7279\u6B0A\u8EAB\u4EFD\u904B\u884C",F_="\u7279\u6B0A\u5BB9\u5668\u4E2D\u7684\u7A0B\u5E8F\u7B49\u540C\u65BC\u5728\u4E3B\u6A5F\u4E0A\u4EE5 root \u8EAB\u4EFD\u57F7\u884C\u7684\u7A0B\u5E8F\u3002",g_="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#127\ufffd" + "open_in_new" + "\ufffd/#127\ufffd" + "\n            ",P_="\u53EF\u5728\u5BB9\u5668\u4E2D\u4F7F\u7528\u7684\u74B0\u5883\u8B8A\u6578\u3002\u503C\u53EF\u4EE5\u4F7F\u7528 $(VAR_NAME) \u8A9E\u6CD5\u5F15\u7528\u5176\u4ED6\u8B8A\u6578",U_="\n              \u5B78\u5230\u66F4\u591A\n              " + "\ufffd#135\ufffd" + "open_in_new" + "\ufffd/#135\ufffd" + "\n            ",f_="\n  \u90E8\u7F72\n",I_="\n  \u53D6\u6D88\n",h="{VAR_SELECT, select, 1 {\u96B1\u85CF\u9AD8\u7D1A\u8A2D\u7F6E} other {\u986F\u793A\u9AD8\u7D1A\u9078\u9805}}",h=_.\u0275\u0275i18nPostprocess(h,{VAR_SELECT:"\ufffd0\ufffd"}),D_="\n  " + h + "\n",G_="\n        \u5177\u6709\u540C\u540D\u7A31\u7684 deployment \u6216 service \u5DF2\u5B58\u5728\u65BC\u547D\u540D\u7A7A\u9593\u4E2D\n      ",L_="\n        \u61C9\u7528\u540D\u7A31\u662F\u5FC5\u9700\u7684\u3002\n      ",h_="\n        \u61C9\u7528\u540D\u7A31\u5FC5\u9808\u4EE5\u5C0F\u5BEB\u5B57\u6BCD\u958B\u982D\uFF0C\u53EA\u5305\u542B\u5C0F\u5BEB\u5B57\u6BCD\u8207\u6578\u5B57\uFF0C\u4E26\u4E14\u4E4B\u9593\u53EF\u4EE5\u5305\u542B '-' \u7B26\u865F\u3002\n      ",B_="\n        \u5BB9\u5668\u93E1\u50CF\u662F\u5FC5\u9808\u7684\n      ",H_="\n        \u5BB9\u5668\u6620\u50CF\u6A94\u7121\u6548: " + "\ufffd0\ufffd" + "\n      ",$_="\n        pod \u7684\u6578\u91CF\u662F\u5FC5\u586B\u9805\n      ",v_="\n        pod \u7684\u6578\u91CF\u5FC5\u9808\u662F\u6B63\u6574\u6578\n      ",y_="\n        \u8A2D\u5B9A\u5927\u91CF pod \u53EF\u80FD\u6703\u5C0E\u81F4\u53E2\u96C6\u548C Dashboard UI \u51FA\u73FE\u6548\u80FD\u554F\u984C\u3002\n      ",K_="\n            CPU \u4E0B\u9650\u5FC5\u9808\u662F\u6B63\u6574\u6578\u3002\n          ",b_="\n            CPU \u4E0B\u9650\u5FC5\u9808\u662F\u6709\u6548\u7684\u6578\u5B57\u3002\n          ",x_="\n            Memory \u4E0B\u9650\u5FC5\u9808\u662F\u6B63\u6574\u6578\u3002\n          ",X_="\n            Memory \u4E0B\u9650\u5FC5\u9808\u662F\u4E00\u500B\u6709\u6548\u7684\u6578\u5B57\u3002\n          ",[["novalidate","",3,"formGroup"],["matInput","","formControlName","name","placeholder",r,"kdUniqueName","","required","",3,"maxlength","namespace"],["mode","indeterminate",1,"kd-deploy-form-progress",3,"ngClass"],["align","end"],[4,"ngIf"],e,["href","http://kubernetes.io/docs/user-guide/labels/","target","_blank","tabindex","-1"],n,[1,"material-icons"],["matInput","","formControlName","containerImage","placeholder",o,"kdValidImageReference","","required",""],l,["href","http://kubernetes.io/docs/user-guide/images/","target","_blank","tabindex","-1"],E,["matInput","","type","number","formControlName","replicas","placeholder",s,"min","1","kdWarnThreshold","100","required",""],S,["href","https://kubernetes.io/docs/concepts/workloads/controllers/deployment/","target","_blank","tabindex","-1"],A,["fxLayout","column"],["formControlName","portMappings",3,"protocols","isExternal","changeExternal"],O,["href","http://kubernetes.io/docs/user-guide/services/","target","_blank","tabindex","-1"],m,[3,"hidden"],["formControlName","description","matInput","","placeholder",F],g,[1,"kd-margin-bottom"],P,["formControlName","labels",3,"labelArr"],T,a_,["formControlName","namespace","placeholder",l_,"required","",3,"click"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],i_,E_,["href","http://kubernetes.io/docs/admin/namespaces/","target","_blank","tabindex","-1"],R_,["formControlName","imagePullSecret","placeholder",s_,3,"click"],S_,T_,["href","http://kubernetes.io/docs/user-guide/secrets/","target","_blank","tabindex","-1"],A_,["fxLayout","row"],["fxFlex","auto"],["matInput","","type","number","placeholder",O_,"name","cpuRequirement","min","0","formControlName","cpuRequirement"],["fxFlex","5"],["matInput","","type","number","placeholder",m_,"name","memoryRequirement","min","0","formControlName","memoryRequirement"],C_,["href","http://kubernetes.io/docs/admin/limitrange/","target","_blank","tabindex","-1"],d_,[1,"kd-block"],["matInput","","placeholder",c_,"formControlName","containerCommand"],["matInput","","placeholder",M_,"formControlName","containerCommandArgs"],N_,["href","http://kubernetes.io/docs/user-guide/containers/","target","_blank","tabindex","-1"],u_,["color","primary","formControlName","runAsPrivileged"],p_,F_,["href","http://kubernetes.io/docs/user-guide/pods/#privileged-mode-for-pod-containers","target","_blank","tabindex","-1"],g_,["formControlName","variables"],P_,["href","https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/","target","_blank","tabindex","-1"],U_,["type","button","color","primary","mat-raised-button","",3,"disabled","click"],f_,["type","button","color","primary","mat-button","",3,"click"],I_,["mat-button","","color","primary",3,"hidden","click"],D_,G_,L_,h_,B_,H_,$_,v_,y_,[3,"value"],K_,b_,x_,X_]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"form",0),_.\u0275\u0275elementStart(1,"kd-help-section"),_.\u0275\u0275elementStart(2,"mat-form-field"),_.\u0275\u0275element(3,"input",1),_.\u0275\u0275element(4,"mat-progress-bar",2),_.\u0275\u0275elementStart(5,"mat-hint",3),_.\u0275\u0275text(6),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(7,_t,2,0,"mat-error",4),_.\u0275\u0275template(8,et,2,0,"mat-error",4),_.\u0275\u0275template(9,tt,2,0,"mat-error",4),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(10,"kd-user-help"),_.\u0275\u0275elementContainerStart(11),_.\u0275\u0275i18n(12,5),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(13,"a",6),_.\u0275\u0275i18nStart(14,7),_.\u0275\u0275element(15,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(16,"kd-help-section"),_.\u0275\u0275elementStart(17,"mat-form-field"),_.\u0275\u0275element(18,"input",9),_.\u0275\u0275template(19,nt,2,0,"mat-error",4),_.\u0275\u0275template(20,rt,2,1,"mat-error",4),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(21,"kd-user-help"),_.\u0275\u0275elementContainerStart(22),_.\u0275\u0275i18n(23,10),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(24,"a",11),_.\u0275\u0275i18nStart(25,12),_.\u0275\u0275element(26,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(27,"kd-help-section"),_.\u0275\u0275elementStart(28,"mat-form-field"),_.\u0275\u0275element(29,"input",13),_.\u0275\u0275template(30,ot,2,0,"mat-error",4),_.\u0275\u0275template(31,at,2,0,"mat-error",4),_.\u0275\u0275template(32,lt,2,0,"mat-error",4),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(33,"kd-user-help"),_.\u0275\u0275elementContainerStart(34),_.\u0275\u0275i18n(35,14),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(36,"a",15),_.\u0275\u0275i18nStart(37,16),_.\u0275\u0275element(38,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(39,"kd-help-section"),_.\u0275\u0275elementStart(40,"div",17),_.\u0275\u0275elementStart(41,"kd-port-mappings",18),_.\u0275\u0275listener("changeExternal",function(l){return n.changeExternal(l)}),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(42,"kd-user-help"),_.\u0275\u0275elementContainerStart(43),_.\u0275\u0275i18n(44,19),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(45,"a",20),_.\u0275\u0275i18nStart(46,21),_.\u0275\u0275element(47,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(48,"div",22),_.\u0275\u0275elementStart(49,"kd-help-section"),_.\u0275\u0275elementStart(50,"mat-form-field"),_.\u0275\u0275element(51,"textarea",23),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(52,"kd-user-help"),_.\u0275\u0275i18n(53,24),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(54,"kd-help-section"),_.\u0275\u0275elementStart(55,"div",17),_.\u0275\u0275elementStart(56,"div",25),_.\u0275\u0275i18n(57,26),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(58,"kd-deploy-label",27),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(59,"kd-user-help"),_.\u0275\u0275elementContainerStart(60),_.\u0275\u0275i18n(61,28),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(62,"a",6),_.\u0275\u0275i18nStart(63,29),_.\u0275\u0275element(64,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(65,"kd-help-section"),_.\u0275\u0275elementStart(66,"mat-form-field"),_.\u0275\u0275elementStart(67,"mat-select",30),_.\u0275\u0275listener("click",function(){return n.resetImagePullSecret()}),_.\u0275\u0275template(68,it,2,2,"mat-option",31),_.\u0275\u0275elementStart(69,"mat-option",32),_.\u0275\u0275listener("click",function(){return n.handleNamespaceDialog()}),_.\u0275\u0275i18n(70,33),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(71,"kd-user-help"),_.\u0275\u0275elementContainerStart(72),_.\u0275\u0275i18n(73,34),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(74,"a",35),_.\u0275\u0275i18nStart(75,36),_.\u0275\u0275element(76,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(77,"kd-help-section"),_.\u0275\u0275elementStart(78,"mat-form-field"),_.\u0275\u0275elementStart(79,"mat-select",37),_.\u0275\u0275listener("click",function(){return n.getSecrets()}),_.\u0275\u0275template(80,Et,2,2,"mat-option",31),_.\u0275\u0275elementStart(81,"mat-option",32),_.\u0275\u0275listener("click",function(){return n.handleCreateSecretDialog()}),_.\u0275\u0275i18n(82,38),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(83,"kd-user-help"),_.\u0275\u0275elementContainerStart(84),_.\u0275\u0275i18n(85,39),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(86,"a",40),_.\u0275\u0275i18nStart(87,41),_.\u0275\u0275element(88,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(89,"kd-help-section"),_.\u0275\u0275elementStart(90,"div",42),_.\u0275\u0275elementStart(91,"mat-form-field",43),_.\u0275\u0275element(92,"input",44),_.\u0275\u0275template(93,Rt,2,0,"mat-error",4),_.\u0275\u0275template(94,st,2,0,"mat-error",4),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(95,"div",45),_.\u0275\u0275elementStart(96,"mat-form-field",43),_.\u0275\u0275element(97,"input",46),_.\u0275\u0275template(98,St,2,0,"mat-error",4),_.\u0275\u0275template(99,Tt,2,0,"mat-error",4),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(100,"kd-user-help"),_.\u0275\u0275elementContainerStart(101),_.\u0275\u0275i18n(102,47),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(103,"a",48),_.\u0275\u0275i18nStart(104,49),_.\u0275\u0275element(105,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(106,"kd-help-section"),_.\u0275\u0275elementStart(107,"div"),_.\u0275\u0275elementStart(108,"mat-form-field",50),_.\u0275\u0275element(109,"input",51),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(110,"mat-form-field",50),_.\u0275\u0275element(111,"input",52),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(112,"kd-user-help"),_.\u0275\u0275elementContainerStart(113),_.\u0275\u0275i18n(114,53),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(115,"a",54),_.\u0275\u0275i18nStart(116,55),_.\u0275\u0275element(117,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(118,"kd-help-section"),_.\u0275\u0275elementStart(119,"div",50),_.\u0275\u0275elementStart(120,"mat-checkbox",56),_.\u0275\u0275i18n(121,57),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(122,"kd-user-help"),_.\u0275\u0275elementContainerStart(123),_.\u0275\u0275i18n(124,58),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(125,"a",59),_.\u0275\u0275i18nStart(126,60),_.\u0275\u0275element(127,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(128,"kd-help-section"),_.\u0275\u0275element(129,"kd-environment-variables",61),_.\u0275\u0275elementStart(130,"kd-user-help"),_.\u0275\u0275elementContainerStart(131),_.\u0275\u0275i18n(132,62),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementStart(133,"a",63),_.\u0275\u0275i18nStart(134,64),_.\u0275\u0275element(135,"i",8),_.\u0275\u0275i18nEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(136,"button",65),_.\u0275\u0275listener("click",function(){return n.deploy()}),_.\u0275\u0275i18n(137,66),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(138,"button",67),_.\u0275\u0275listener("click",function(){return n.cancel()}),_.\u0275\u0275i18n(139,68),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(140,"button",69),_.\u0275\u0275listener("click",function(){return n.switchMoreOptions()}),_.\u0275\u0275i18n(141,70),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275property("formGroup",n.form),_.\u0275\u0275advance(3),_.\u0275\u0275property("maxlength",n.nameMaxLength)("namespace",n.namespace.value),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngClass",_.\u0275\u0275pureFunction1(27,At,n.name.pending)),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate2("",null==n.name.value?null:n.name.value.length," / ",n.nameMaxLength,""),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.name.errors?null:n.name.errors.uniqueName),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.name.errors?null:n.name.errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.name.errors?null:n.name.errors.namePattern),_.\u0275\u0275advance(10),_.\u0275\u0275property("ngIf",null==n.containerImage.errors?null:n.containerImage.errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.containerImage.errors?null:n.containerImage.errors.validImageReference),_.\u0275\u0275advance(10),_.\u0275\u0275property("ngIf",null==n.replicas.errors?null:n.replicas.errors.required),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.replicas.errors?null:n.replicas.errors.kdValidInteger),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.replicas.errors?null:n.replicas.errors.warnThreshold),_.\u0275\u0275advance(9),_.\u0275\u0275property("protocols",n.protocols)("isExternal",n.isExternal),_.\u0275\u0275advance(7),_.\u0275\u0275property("hidden",!n.isMoreOptionsEnabled()),_.\u0275\u0275advance(10),_.\u0275\u0275property("labelArr",n.labelArr),_.\u0275\u0275advance(10),_.\u0275\u0275property("ngForOf",n.namespaces),_.\u0275\u0275advance(12),_.\u0275\u0275property("ngForOf",n.secrets),_.\u0275\u0275advance(13),_.\u0275\u0275property("ngIf",null==n.cpuRequirement.errors?null:n.cpuRequirement.errors.min),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.cpuRequirement.errors?null:n.cpuRequirement.errors.kdValidInteger),_.\u0275\u0275advance(4),_.\u0275\u0275property("ngIf",null==n.memoryRequirement.errors?null:n.memoryRequirement.errors.min),_.\u0275\u0275advance(1),_.\u0275\u0275property("ngIf",null==n.memoryRequirement.errors?null:n.memoryRequirement.errors.kdValidInteger),_.\u0275\u0275advance(37),_.\u0275\u0275property("disabled",n.isCreateDisabled()),_.\u0275\u0275advance(4),_.\u0275\u0275property("hidden",!n.isMoreOptionsEnabled()),_.\u0275\u0275advance(1),_.\u0275\u0275i18nExp(n.isMoreOptionsEnabled()),_.\u0275\u0275i18nApply(141))},directives:[a.\u0275NgNoValidate,a.NgControlStatusGroup,a.FormGroupDirective,K,C.KE,U.Nt,a.DefaultValueAccessor,a.NgControlStatus,a.FormControlName,Te,a.RequiredValidator,a.MaxLengthValidator,e_.pW,d.NgClass,t_.oO,C.bx,d.NgIf,b,Oe,a.NumberValueAccessor,a.MinValidator,me,p.xw,ye,qe,r_.gD,d.NgForOf,o_.ey,p.yH,Ye.oG,Qe,u.lW,C.TO],styles:[".kd-block[_ngcontent-%COMP%]{display:block}.kd-deploy-input-row[_ngcontent-%COMP%]{margin-bottom:8px;margin-top:8px}  mat-progress-bar.kd-deploy-form-progress{clear:left;height:.5px;margin-bottom:-.5px;overflow:hidden;top:5px}  mat-progress-bar.kd-deploy-form-progress:not(.kd-deploy-form-progress-show){visibility:hidden}"]}),t})();const Ct={path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.\u0275\u0275defineComponent({type:t,selectors:[["kd-create"]],decls:8,vars:1,consts:function(){let r,e,n;return r="\u8F38\u5165\u4E26\u5EFA\u7ACB",e="\u5F9E\u6A94\u6848\u5EFA\u7ACB",n="\u5F9E\u8868\u55AE\u5EFA\u7ACB",[[1,"kd-create-container"],["label",r],["label",e],["label",n]]},template:function(e,n){1&e&&(_.\u0275\u0275elementStart(0,"mat-card",0),_.\u0275\u0275elementStart(1,"mat-tab-group"),_.\u0275\u0275elementStart(2,"mat-tab",1),_.\u0275\u0275element(3,"kd-create-from-input"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(4,"mat-tab",2),_.\u0275\u0275element(5,"kd-create-from-file"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(6,"mat-tab",3),_.\u0275\u0275element(7,"kd-create-from-form"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementEnd()),2&e&&(_.\u0275\u0275advance(1),_.\u0275\u0275property("@.disabled",!0))},directives:[V_.a8,W.SP,W.uX,Y_,Q_,mt],styles:[".kd-create-container[_ngcontent-%COMP%]{padding:0}.kd-create-container[_ngcontent-%COMP%]     .mat-tab-body-content{height:auto;padding:20px}"]}),t})(),data:{breadcrumb:"Create"}};let dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=_.\u0275\u0275defineInjector({imports:[[I.RouterModule.forChild([Ct])],I.RouterModule]}),t})(),ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=_.\u0275\u0275defineInjector({imports:[[j.m,z.K,J_,k_,dt]]}),t})()}}]);